# SSH

> Secure Shell 安全外壳协议



- ### 使用方法

  > 1. 使用 RSA 非对称算法，生成 `密钥对`，自己留着 `私钥` (用来解密信息)
  >
  >    ```
  >    ssh-keygen -t rsa -C root
  >    ```
  >
  >    > 默认密钥对存放的位置
  >    >
  >    >  /Users/joyawang/.ssh/instance1.pub
  >    >
  >    >  /Users/joyawang/.ssh/instance1
  >
  > 2. 将 `公钥` 传递给服务器端(用来加密信息)，或直接去服务器页面手动设置
  >
  > 3. 登录
  >
  >    > Terminal - Shell - NewRemoteConnection 在 Server 框点击＋

- ### 私钥公钥的应用场景

  > 始终记得: **公钥可以随便给人，而私钥要保密**

  - #### 网络间传递加密信息时

    > 这个场景下公钥用来加密信息，私钥用来解密信息
    >
    > 客户端生成密钥对AB，把公钥B给服务器
    >
    > 服务器生成密钥对CD，把公钥D给客户端
    >
    > 客户端给服务器发消息时用服务器给的公钥D加密，服务器收到后用自己的私钥C解密
    >
    > 服务器给客户端发消息时用客户端给的公钥B加密，客户端收到后用自己的私钥A解密

  - #### 认证、确认身份时

    > 【在这个场景下，私钥用来加密，公钥用来解密了】
    >
    > 数字签名、证书
    >
    > 客户端输入了一个网址给服务器发送了一个请求以后，确实拿到了服务器返回的公钥，但是这个服务器是不是冒充的它本意想访问的那个服务器是不确定的。
    >
    > 客户端要求服务器去一家双方都认可的权威的证书机构[如公安局]，公安局用自己的`私钥`将服务器的`公钥`加密生成一个`数字证书`，客户端给公安局打电话拿到了用来<u>从数字证书中解密服务器公钥</u>的`公钥`，这样当用户可以使用公安局给的公钥正常获得服务器的公钥时，就可以确定这个服务器是真正的服务器。



![SSH](../../resources/images/SSH.png)

